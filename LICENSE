

嘞是协议v0.3

〇、定义

作品：本协议不区分程序和数据，只要是有智力投入的信息载体，都统称为「作品」。

本协议的作品：已声明在本协议约束下发布的作品。

源码：源码是指人可以通过特定工具、直接进行智力创作和修改的文件或文本。例如：用C语言编写的代码、JSON格式的文本文件、mp3格式的音频文件等。源码是一种作品。

作品的源码：如果作品A是作品S的目标版本，并且作品S是源码，则作品S就是作品A的源码或者源码之一。

作品的衍生版本：作品的拷贝版本、修改版本和目标版本合称为作品的衍生版本。作品的衍生版本也是作品。

作品的拷贝版本：如果对作品A进行无修改的拷贝，生成的新作品就是作品A的拷贝版本。特别地，作品A也是自己的拷贝版本。

作品的修改版本：如果对作品A进行有智力因素的修改、拆分、合并等，生成的新作品就都是作品A的修改版本。一个作品可能是多个作品的修改版本，一个作品的修改版本也可能是多个作品。

作品的目标版本：如果作品A与作品B满足下列所有条件，则作品B是作品A的目标版本。
  - 作品B在创建的过程中，部分或全部信息来自于作品A。
  - 作品B不是作品A的拷贝版本。
  - 作品B对作品A只进行了无智力因素的处理（例如编译、打包、压缩等）。
  - 目标版本具有传递关系，如果作品B是作品M的目标版本，作品M是作品A的目标版本，则作品B也是作品A的目标版本。

分发品：当作品通过介质分发给其他人或其他设备时，被分发的作品就是分发品。

一、许可事项

0. 你可以拷贝、分发本许可证，但不能修改本许可证。
1. 你可以在你的原创源码作品中，声明该作品的整体或部分在本协议约束下发布。
2. 你可以通过任何方式（包括但不限于拷贝、修改、编译、打包、压缩等）获得本协议的作品的衍生版本，但前提是衍生版本必须声明以本协议发布，并且遵守本协议的许可事项；否则，不论你有任何理由，你都不能获得本协议的作品的衍生版本。
3. 你可以分发本协议的作品，但前提是被分发的作品必须遵守本协议的许可事项；否则，不论你有任何理由，你都不能分发本协议的作品。
4. 你可以运行本协议的作品。
5. 如果分发品(称为D)是本协议的作品(称为P)的拷贝版本的目标版本，则分发品D必须包含作品P的全部源码或者全部源码的免费下载链接。
6. 如果分发品(称为D)是本协议的作品(称为P)的修改版本的目标版本，则分发品D建议包含分发品D的全部源码或者全部源码的免费下载链接。
7. 公开的源码可以基于安全或隐私原因，对文本脱敏。
8. 在法律许可范围内，本作品不提供品质担保。包括程序的质量和性能问题在内的全部风险，皆由你承担。
9. 本协议的作品可以声明以本协议的更高版本进行发布，但不能声明为更低版本。

二、如何声明作品以本协议发布

请在每份源码开头附加如下注释文本，或者在软件包的一级目录下放置内容为如下文本的`LICENSE.txt`文件（请把{??}替换为实际内容）：
```
Copyright (c) {yyyy}  {name of author}
{Software name} is licensed under the Lesspl Public License(v0.2).
You may obtain a copy of Lesspl Public License(v0.2) at: http://www.lesspl.org
```

如果是源码项目，并且在一级目录包含了`LICENSE.txt`文件，则表示软件包中的所有文件均声明以本协议发布，除非明确列出例外的文件。请把Lesspl Public License(v0.2)的文本复制并附加到`LICENSE.txt`文件末尾，但不能对协议文本作任何修改。

如果是非源码文件，只要遵守许可事项公布了源码或源码的下载链接，即算是完成了声明，因为源码中理应包含声明文本。

三、答疑

0. 为什么会有答疑章节？

尽管本协议体现的开源精神是明确的，但细节上的用语还不够精确（并且过于精确的用语也会阻碍本协议的推广），因此会以答疑的形式，尽量精确地解释协议的细节。答疑章节的内容，也是本协议不可分割的部分。

我们会采纳有益的意见和建议，修改协议文本，新的版本号就会递增，当我们认为用语终于足够精确时，会发布1.0版本。

1. 本协议的核心理念是什么？

版本树上的每一份智力创作的源码都应该能被大众免费获取；但是，没有基于版本树的智力创作并没有这个义务。

2. 怎样判断一个作品是另一个作品的目标版本？

例如：
 - 对作品a.c进行编译生成a.o，则a.o是a.c的目标版本；
 - 对作品a.o和b.o链接生成c.exe，则c.exe既是a.o的目标版本，又是b.o的目标版本；如果a.o是a.c的目标版本，则c.exe也是a.c的目标版本；
 - 对作品a.exe和b.exe打包压缩生成c.tgz，则c.tgz既是a.exe的目标版本，又是b.exe的目标版本。

3. 什么是对文本脱敏？

例如把配置文件中的数据库密码，用一连串的`*`号、`#`号或者其他字符替换，以避免安全问题或隐私问题。既然是为了安全或隐私方面的考量，替换后的字符串长度当然也没必要与替换前一致。

4. 如果对a.js作代码混淆处理生成b.js，又对b.js的内容进行了修改生成了c.js，那么c.js的源码是a.js还是b.js？

开源的目的是让其他人能够重复你的智力创作过程，并能够在此基础上加入新的智力创作。因此c.js的源码应该是一份没有被混淆的、易于理解的javascript代码文件，以及必要的配置文件（例如package.json），使得用户可以无智力因素地生成c.js。

5. “分发品不能被分发”是指什么？

当我们说“分发品不能被分发”时，这里的分发品是指“你希望分发给其他人或其他设备的这个作品”，而这个作品因为不符合某一条许可事项，是禁止分发的。如果你仍决定分发这个作品，作为分发者的你会承担可能的法律风险和道德责任。

6. 如果从网站上下载了一个.exe文件A，但下载得到的是.zip文件B，而文件B是网站自动对文件A压缩生成的，那么文件A和文件B哪个算是分发品？

分发行为中，发送端的那个作品是分发品，而接收端的那个作品不是分发品。这个例子中，分发行为是下载，发送端是网站，发送端的那个作品应该认为是包含下载页面和文件A的一个整体；而下载者收到的文件B不是分发品。注意分发工具也不是分发品，这个例子里面的分发工具就是：网站后台程序、浏览器、操作系统内核等等。

7. 如果网站A提供了.exe文件B的下载链接，还提供了文件B的源码C的下载链接，并且源码C是本协议作品，那么是否可以只下载文件B而不下载源码C？

可以。这个例子中，下载文件B的这个分发行为，其分发品应该认为是包含下载页面、文件B和源码C的一个整体，符合许可事项(5)。但是，下载完成后，如果你只是将文件B再拷贝给其他人，则是不允许的，因为现在这个分发动作的分发品就只有文件B而没有源码C了，不符合许可事项(5)。

8. 如果脚本文件a.py在运行之前必须用pip工具从pypi平台下载安装B库，并且B库是本协议作品，那么要分发a.py是否必须包含B的源码或者源码下载链接？

不需要。因为a.py本质上只依赖了pypi平台维护的一个URL链接，其内容并不真正受a.py的分发者的控制（pypi的B库管理者可能会删除该版本，甚至pypi可能会倒闭）。但相关人员要考虑如下义务：
1) pypi的B库管理员，将B库新版本上传到pypi时就是一次分发行为。他应该按照pypi平台的约定，在setup.py中提供全部源码的免费下载链接，或者用源码模式上传到pypi。
2) pypi网站应该把setup.py中的源码下载链接展示出来，并且对所有的库尽到审查义务。
3) 如果你从pypi下载了B库文件到本地磁盘上，并且本地的B库文件不包含源码和源码的下载链接，则你不能把B库文件拷贝给其他人，除非你在拷贝时附带上B库的源码或源码下载链接。

9. 如果.exe文件A在运行时可能会动态加载一个.so文件B，而文件B是本协议作品C的编译产出，那么文件A的分发者应该注意什么？

1) 如果分发品只包含文件A，不包含.so文件B，则分发品跟作品C没有任何关系。
2) 如果分发品包含了文件A和.so文件B，则这个分发品是作品C的拷贝版本的目标版本，根据许可事项(5)，必须包含作品C的全部源码或者全部源码的免费下载链接。否则，这个分发品不能被分发。
3) 如果分发品包含了文件A和.so文件D，而文件D是作品E的编译产出，作品E是作品C的修改版本，则：
   3.1) 这个分发品是作品E的拷贝版本的目标版本，根据许可事项(5)，必须包含作品E的全部源码或者全部源码的免费下载链接。
   3.2) 这个分发品是作品D的拷贝版本的目标版本，根据许可事项(5)，必须包含作品D的全部源码或者全部源码的免费下载链接（D的源码就是E，与3.1等价）。
   3.3) 这个分发品是作品C的修改版本的目标版本，根据许可事项(6)，建议包含作品A和作品E的全部源码或者全部源码的免费下载链接。
   许可事项必须全部得到满足，即这个分发品必须包含作品E的源码（法律要求），建议包含程序A的源码（开源倡议）。

